pipeline{
    agent any
     
    stages{
       stage('Build'){
            steps{
                sh script: '/opt/jenkins/maven/bin/mvn clean package'
            }
       }
       stage('Deploy jar to nexus'){
           steps{
               sh script: '/opt/jenkins/maven/bin/mvn deploy:deploy-file -DgroupId=org.springframework.samples -DartifactId=spring-petclinic -Dversion=1.0.0 -DgeneratePom=true -Dpackaging=jar -DrepositoryId=nexus -Durl=http://52.255.145.250:8081/repository/maven-snapshots/ -Dfile=target/spring-petclinic-2.5.0-SNAPSHOT.jar'
                  
           }
       }
    }
}
